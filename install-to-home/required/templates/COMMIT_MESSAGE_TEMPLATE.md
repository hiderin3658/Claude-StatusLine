# コミットメッセージテンプレート

> このテンプレートは `git commit` 時に使用します。
> Conventional Commits 形式をベースにしています。

---

## 基本形式

```
<type>(<scope>): <概要>

<本文（任意）>

<フッター（任意）>
```

---

## Type（必須）

| Type | 説明 | 例 |
|------|------|-----|
| `feat` | 新機能追加 | feat: ユーザー認証機能を追加 |
| `fix` | バグ修正 | fix: ログイン時のエラーを修正 |
| `docs` | ドキュメントのみの変更 | docs: READMEにセットアップ手順を追加 |
| `style` | コードの意味に影響しない変更（空白、フォーマット等） | style: インデントを修正 |
| `refactor` | バグ修正でも機能追加でもないコード変更 | refactor: 認証ロジックを整理 |
| `perf` | パフォーマンス改善 | perf: クエリを最適化 |
| `test` | テストの追加・修正 | test: ログイン機能のテストを追加 |
| `chore` | ビルドプロセスやツールの変更 | chore: 依存関係を更新 |
| `ci` | CI/CD設定の変更 | ci: GitHub Actionsワークフローを追加 |

---

## Scope（任意）

変更の影響範囲を括弧内に記述:

```
feat(auth): JWT認証を実装
fix(api): レート制限の計算を修正
docs(readme): インストール手順を更新
```

---

## 概要（Subject）

- **50文字以内**を目安（日本語の場合は25文字程度）
- 命令形で記述（「追加した」ではなく「追加」）
- 末尾にピリオドを付けない
- 何を変更したかを簡潔に

---

## 本文（Body）- 任意

- 概要だけでは伝わらない場合に記述
- **なぜ**この変更が必要かを説明
- 空行で概要と区切る
- 各行は72文字以内を推奨

```
feat(auth): JWT認証を実装

セッションベースの認証からJWTに移行することで、
スケーラビリティとステートレス性を向上させる。

- RS256アルゴリズムを使用
- トークン有効期限は24時間
- リフレッシュトークン機能は次フェーズで実装予定
```

---

## フッター（Footer）- 任意

### Issue/PRへの参照

```
feat(api): 新規エンドポイントを追加

Closes #123
Refs #456
```

### 破壊的変更（Breaking Change）

```
feat(api)!: レスポンス形式を変更

BREAKING CHANGE: data フィールドを result に変更。
クライアント側の更新が必要。
```

### Co-Authored-By

```
feat: 新機能を追加

Co-Authored-By: Claude <noreply@anthropic.com>
```

---

## 良い例・悪い例

### 良い例

```
feat(auth): Google OAuth認証を追加

fix: ログイン失敗時のエラーメッセージを修正

refactor(api): プロバイダ選択ロジックを整理

docs: API仕様書を更新
```

### 悪い例

```
# 曖昧すぎる
fix: バグ修正
update: 更新

# 長すぎる
feat: ユーザーがログインできるようにするためにGoogleのOAuth2.0認証機能を追加してセッション管理も実装した

# typeがない
認証機能を追加

# 過去形になっている
feat: Added authentication
```

---

## クイックリファレンス

```bash
# シンプルな変更
git commit -m "fix: ログインエラーを修正"

# スコープ付き
git commit -m "feat(api): 新規エンドポイントを追加"

# 本文付き（HEREDOCを使用）
git commit -m "$(cat <<'EOF'
feat(auth): JWT認証を実装

RS256アルゴリズムを使用したJWT認証を実装。
セッション管理の負荷を軽減する。

Closes #123
EOF
)"
```

---

## 更新履歴

- 2026-01-09: 初版作成
